<div class="job-form-container">
  <form class="job-form" #jobForm="ngForm" (ngSubmit)="onSubmit()">
    <!-- Job Title + Job Mode -->
    <div class="form-row">
      <div class="form-group">
        <label>Job Title <span class="required">*</span></label>
        <input
          type="text"
          name="jobTitle"
          placeholder="Enter job title"
          [(ngModel)]="jobTitle"
          required
        />
      </div>

      <div class="form-group">
        <label>Job Mode <span class="required">*</span></label>
        <div class="radio-group">
          <label>
            <input
              type="radio"
              name="jobMode"
              value="Remote"
              [(ngModel)]="jobMode"
              required
            />
            Remote
          </label>

          <label>
            <input
              type="radio"
              name="jobMode"
              value="Hybrid"
              [(ngModel)]="jobMode"
            />
            Hybrid
          </label>

          <label>
            <input
              type="radio"
              name="jobMode"
              value="Work from Home"
              [(ngModel)]="jobMode"
            />
            Work from Home
          </label>
        </div>
      </div>
    </div>

    <!-- Job Description -->
    <div class="form-group full-width">
      <label>Job Description <span class="required">*</span></label>
      <textarea
        rows="5"
        name="jobDescription"
        placeholder="Enter job description"
        [(ngModel)]="jobDescription"
        required
      ></textarea>
    </div>

    <!-- Experience + Salary -->
    <div class="form-row">
      <div class="form-group">
        <label>Experience (Years) <span class="required">*</span></label>
        <input
          type="number"
          name="experience"
          min="0"
          [(ngModel)]="experience"
          placeholder="Enter the experience from 0 to 55 years"
          required
        />
      </div>

      <div class="form-group">
        <label>Salary Range (₹)</label>

        <div class="double-range">
          <input
            type="range"
            min="1"
            max="10000000"
            [(ngModel)]="salaryMin"
            name="salaryMin"
            (input)="onMinChange()"
          />

          <input
            type="range"
            min="1"
            max="10000000"
            [(ngModel)]="salaryMax"
            name="salaryMax"
            (input)="onMaxChange()"
          />

          <div class="range-track-grey"></div>

          <div
            class="range-track-blue"
            [ngStyle]="{
              left: blueLeft + '%',
              width: blueWidth + '%'
            }"
          ></div>
        </div>

        <div class="range-hint">
          ₹ {{ salaryMin | number }} – ₹ {{ salaryMax | number }}
        </div>
      </div>
    </div>

    <!-- Skills -->
    <div class="split-section">
      <div class="left-section">
        <label>Skills</label>
        <div class="inline-input">
          <input
            type="text"
            class="wide-input"
            placeholder="Enter skill"
            [(ngModel)]="skillInput"
            name="skillInput"
          />
          <button type="button" (click)="addSkill()">Add+</button>
        </div>
      </div>

      <div class="right-section">
        <span
          class="chip"
          *ngFor="let skill of skills; let i = index"
          (click)="removeSkill(i)"
        >
          {{ skill }} ✕
        </span>
      </div>
    </div>

    <!-- Location -->
    <div class="split-section">
      <div class="left-section">
        <label>Location <span class="required">*</span></label>
        <div class="inline-input">
          <select
            class="wide-input"
            [(ngModel)]="selectedState"
            name="selectedState"
          >
            <option value="">Select state</option>
            <option *ngFor="let state of states" [value]="state">
              {{ state }}
            </option>
          </select>
          <button type="button" (click)="addLocation()">Add+</button>
        </div>
      </div>

      <div class="right-section">
        <span
          class="chip"
          *ngFor="let loc of locations; let i = index"
          (click)="removeLocation(i)"
        >
          {{ loc }} ✕
        </span>
      </div>
    </div>

    <!-- Submit -->
    <div class="form-actions">
      <button type="submit" class="post-job-btn" [disabled]="!isFormValid()">
        Post Job
      </button>
    </div>
  </form>
</div>
